identity-api:
  replicaCount: 1
  image:
    repository: cmusei/identity
    tag: '1.3.7'
    # repository: cmusei.azurecr.us/identity
    # tag: "1.3.7-rc3"

  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
      # ingress.kubernetes.io/ssl-redirect: 'true'
      # nginx.ingress.kubernetes.io/auth-tls-verify-client: "optional"
      # nginx.ingress.kubernetes.io/auth-tls-secret: "ingress/issuers-dod-sei"
      # nginx.ingress.kubernetes.io/auth-tls-verify-depth: "2"
      # nginx.ingress.kubernetes.io/configuration-snippet: |
      #   proxy_set_header ssl-client-serial $ssl_client_serial;

    hosts:
      - host: 'id.crucible-dev.cmusei.dev'
        paths: ['/']
    tls:
      - secretName: crucible-dev-wildcard-cert
        hosts:
          - 'id.crucible-dev.cmusei.dev'

  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

  ## persistence; set existing pvc or size of new pvc
  storage:
    existing: 'appdata'
    size: ''
    mode: ReadWriteOnce
    class: default

  # Config app settings with environment vars.
  # Those most likely needing values are listed. For others,
  # see https://github.com/cmu-sei/Identity/blob/master/src/IdentityServer/appsettings.conf
  env:
    Database__Provider: PostgreSQL
    Database__ConnectionString: Server=postgres;Port=5432;Database=crucible_dev_identity_db;Username=crucible_dev_identity_dbo@1ncu5k8s;Password='qzzlJgmKx6ZF4qlO1QfYJ92B31w0sxkq';SSL Mode=Prefer;Trust Server Certificate=true;
    Database__SeedFile: conf/seed.json
    Branding__ApplicationName: Identity
    Branding__UiHost: /ui
    Cache__Key: idsrv
    # Cache__RedisUrl: "u5cck8s0.redis.cache.usgovcloudapi.net:6380,password=HcXOB5+i0i5ucexkiOdDeZIOtuWHDpxBds12inOph8c=,ssl=True,abortConnect=False"
    # Cache__RedisUrl: "redis,password=qRpnHAOWz6YxfnAW,serviceName=mymaster"
    Cache__SharedFolder: '/app/data'
    Logging__Console__DisableColors: true
    Account__Authentication__LockThreshold: 3
    Account__Authentication__SigningCertificate: conf/signer.pfx
    Account__Authentication__SigningCertificatePassword: 'mNYgtSm6uUM52JgwvW1iVZLYyKRHxu9c'
    Account__Authentication__NoticeFile: 'conf/notice.html'
    Account__Authentication__CertificateIssuers: ''
    Account__Registration__AllowManual: true
    Account__Registration__AllowedDomains: crucible-dev.cmusei.dev | cert.org | sei.cmu.edu
    Account__OverrideCode: '147963'
    Account__AdminEmail: admin@crucible-dev.cmusei.dev
    Account__AdminPassword: 321ChangeMe!
    Account__AdminGuid: 9fd3c38e-58b0-4af1-80d1-1895af91f1f9
    AppMail__Url: https://appmail.cyberforce.site/msg
    AppMail__Key: incus-default#P2GVo9k25e52NQE6pKOGpzxTsQ9uq3rn
    AppMail__From: Crucible-Dev Identity <no-reply@cert.org>
    Headers__Cors__Origins__0: 'https://alloy.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__1: 'https://caster.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__2: 'https://id.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__3: 'https://player.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__4: 'https://steamfitter.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__5: 'https://vm.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__6: 'https://console.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__7: 'https://fite.crucible-dev.cmusei.dev'
    Headers__Cors__Origins__8: 'https://gitlab.crucible-dev.cmusei.dev'
    Headers__Cors__Methods__0: '*'
    Headers__Cors__Headers__0: '*'
    Headers__Cors__AllowCredentials: true
    Headers__Forwarding__TargetHeaders: All

  conf:
    issuers: ''
    notice: |
      <div>
        <h4>
            Cookie Policy
        </h4>
        <p class="text-justify">
            This site uses browser cookies for authentication. When you login, we add a cookie that gets sent back to this
            server with each request for the duration of your session. That's so you don't have to login to view
            <i>every</i> page.
        </p>

        <h4>
            Privacy Policy
        </h4>
        <p class="text-justify">
            We store your email address, your name and organization name, if you provide them. This information is
            available to staff for the purpose of analyzing participation and communicating with participants.
        </p>

        <h4>
            Terms of Service
        </h4>
        <p class="text-justify">
            This site is administered by Carnegie Mellon University. Use is "AS IS", and Carnegie Mellon University
            accepts no liability from your use of it.
        </p>
      </div>

    terms: ''
    trouble: ''
    seed: |
      {
        "Users": [
          {
            "Username": "andrew.carnegie@crucible-dev.cmusei.dev",
            "Password": "321ChangeMe!"
          },
          {
            "Username": "andrew.mellon@crucible-dev.cmusei.dev",
            "Password": "321ChangeMe!"
          },
          {
            "Username": "richard.mellon@crucible-dev.cmusei.dev",
            "Password": "321ChangeMe!"
          },
          {
            "Username": "caster.admin.user@crucible-dev.cmusei.dev",
            "Password": "321ChangeMe!",
            "GlobalId": "c4c631ca-3dbd-4d99-9c19-a8c3f7e5e493"
          },
          {
            "Username": "player.vm.admin@crucible-dev.cmusei.dev",
            "Password": "321ChangeMe!",
            "GlobalId": "6b10a070-e807-449b-b8d4-b276ae4c2d42"
          },
          {
            "Username": "crucible.admin@crucible-dev.cmusei.dev",
            "Password": "321ChangeMe!",
            "GlobalId": "32c11441-7eec-47eb-a915-607c4f2529f4"
          }
        ],
        "DefaultClientFlags": "AllowRememberConsent, AlwaysIncludeUserClaimsInIdToken, UpdateAccessTokenClaimsOnRefresh, EnableLocalLogin",
        "Clients": [
          {
            "Name": "alloy-api",
            "DisplayName": "Alloy API",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser",
            "SeedGrant": "implicit",
            "SeedScopes": "alloy-api player-api caster-api steamfitter-api vm-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://alloy.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://alloy.crucible-dev.cmusei.dev/api/oauth2-redirect.html"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://alloy.crucible-dev.cmusei.dev/api"
              }
            ]
          },
          {
            "Name": "alloy-admin",
            "DisplayName": "Alloy Admin",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaportal",
            "SeedGrant": "password",
            "SeedScopes": "openid alloy-api player-api caster-api steamfitter-api vm-api",
            "Urls": [{ "Type": "CORSUri", "Value": "https://alloy.crucible-dev.cmusei.dev" }]
          },
          {
            "Name": "alloy-ui",
            "DisplayName": "Alloy UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, RequireConsent, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile alloy-api player-api caster-api steamfitter-api vm-api",
            "Urls": [
              { "Type": "ClientUri", "Value": "https://alloy.crucible-dev.cmusei.dev" },
              {
                "Type": "RedirectUri",
                "Value": "https://alloy.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://alloy.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://alloy.crucible-dev.cmusei.dev"
              },
              { "Type": "CORSUri", "Value": "https://alloy.crucible-dev.cmusei.dev" }
            ]
          },
          {
            "Name": "caster-api",
            "DisplayName": "Caster API",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid caster-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://caster.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://caster.crucible-dev.cmusei.dev/api/oauth2-redirect.html"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://caster.crucible-dev.cmusei.dev/api"
              }
            ]
          },
          {
            "Name": "caster-ui",
            "DisplayName": "Caster UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, RequireConsent, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile email caster-api",
            "Urls": [
              { "Type": "ClientUri", "Value": "https://caster.crucible-dev.cmusei.dev" },
              {
                "Type": "RedirectUri",
                "Value": "https://caster.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://caster.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://caster.crucible-dev.cmusei.dev"
              },
              { "Type": "CORSUri", "Value": "https://caster.crucible-dev.cmusei.dev" }
            ]
          },
          {
            "Name": "caster-admin",
            "DisplayName": "Caster Admin",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaportal, Published",
            "SeedGrant": "password",
            "SeedScopes": "openid player-api vm-api",
            "Urls": [{ "Type": "CORSUri", "Value": "https://caster.crucible-dev.cmusei.dev" }]
          },
          {
            "Name": "player-api",
            "DisplayName": "Player API",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid player-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://player.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://player.crucible-dev.cmusei.dev/api/oauth2-redirect.html"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://player.crucible-dev.cmusei.dev/api"
              }
            ]
          },
          {
            "Name": "player-ui",
            "DisplayName": "Player UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile email player-api",
            "Urls": [
              { "Type": "ClientUri", "Value": "https://player.crucible-dev.cmusei.dev" },
              {
                "Type": "RedirectUri",
                "Value": "https://player.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://player.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://player.crucible-dev.cmusei.dev"
              },
              { "Type": "CORSUri", "Value": "https://player.crucible-dev.cmusei.dev" }
            ]
          },
          {
            "Name": "player-vm-admin",
            "DisplayName": "Player VM Admin",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaportal, Published",
            "SeedGrant": "password",
            "SeedScopes": "openid player-api vm-api",
            "Urls": [{ "Type": "CORSUri", "Value": "https://vm.crucible-dev.cmusei.dev" }]
          },
          {
            "Name": "steamfitter-admin",
            "DisplayName": "Steamfitter Admin",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaportal, Published",
            "SeedGrant": "password",
            "SeedScopes": "openid steamfitter-api player-api vm-api",
            "Urls": [{ "Type": "CORSUri", "Value": "https://steamfitter.crucible-dev.cmusei.dev" }]
          },
          {
            "Name": "steamfitter-api",
            "DisplayName": "Steamfitter API",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid player-api steamfitter-api vm-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev/api/oauth2-redirect.html"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev/api"
              }
            ]
          },
          {
            "Name": "steamfitter-ui",
            "DisplayName": "Steamfitter UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, RequireConsent, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile player-api steamfitter-api vm-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev"
              },
              {
                "Type": "CORSUri",
                "Value": "https://steamfitter.crucible-dev.cmusei.dev"
              }
            ]
          },
          {
            "Name": "vm-api",
            "DisplayName": "VM API",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid player-api vm-api",
            "Urls": [
              { "Type": "ClientUri", "Value": "https://vm.crucible-dev.cmusei.dev" },
              {
                "Type": "RedirectUri",
                "Value": "https://vm.crucible-dev.cmusei.dev/api/oauth2-redirect.html"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://vm.crucible-dev.cmusei.dev/api"
              }
            ]
          },
          {
            "Name": "vm-ui",
            "DisplayName": "VM UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile email player-api vm-api",
            "Urls": [
              { "Type": "ClientUri", "Value": "https://vm.crucible-dev.cmusei.dev" },
              {
                "Type": "RedirectUri",
                "Value": "https://vm.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://vm.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://vm.crucible-dev.cmusei.dev"
              },
              { "Type": "CORSUri", "Value": "https://vm.crucible-dev.cmusei.dev" }
            ]
          },
          {
            "Name": "console-ui",
            "DisplayName": "VM Console UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, RequireConsent, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile email player-api vm-api console-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://console.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://console.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://console.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://console.crucible-dev.cmusei.dev"
              },
              { "Type": "CORSUri", "Value": "https://console.crucible-dev.cmusei.dev" }
            ]
          },
          {
            "Name": "gitlab",
            "DisplayName": "Gitlab",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, RequireConsent, Published",
            "SeedGrant": "authorization_code",
            "SeedScopes": "openid profile email",
            "SeedSecret": "337bdcb1a23143a9b5a6aaa33c0e87d7",
            "Urls": [
              { "Type": "ClientUri", "Value": "https://gitlab.crucible-dev.cmusei.dev" },
              {
                "Type": "RedirectUri",
                "Value": "https://gitlab.crucible-dev.cmusei.dev/users/auth/identity/callback"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://gitlab.crucible-dev.cmusei.dev"
              },
              { "Type": "CORSUri", "Value": "https://gitlab.crucible-dev.cmusei.dev" }
            ]
          },
          
          {
            "Name": "fite-api",
            "DisplayName": "FITE API",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid fite-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://fite.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://fite.crucible-dev.cmusei.dev/api/oauth2-redirect.html"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://fite.crucible-dev.cmusei.dev/api"
              }
            ]
          },
          {
            "Name": "fite-ui",
            "DisplayName": "FITE UI",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, RequireConsent, Published",
            "SeedGrant": "implicit",
            "SeedScopes": "openid profile fite-api",
            "Urls": [
              {
                "Type": "ClientUri",
                "Value": "https://fite.crucible-dev.cmusei.dev"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://fite.crucible-dev.cmusei.dev/auth-callback"
              },
              {
                "Type": "RedirectUri",
                "Value": "https://fite.crucible-dev.cmusei.dev/auth-callback-silent"
              },
              {
                "Type": "PostLogoutRedirectUri",
                "Value": "https://fite.crucible-dev.cmusei.dev"
              },
              {
                "Type": "CORSUri",
                "Value": "https://fite.crucible-dev.cmusei.dev"
              }
            ]
          },
          {
            "Name": "mattermost-client",
            "DisplayName": "Mattermost Client",
            "Enabled": true,
            "SeedFlags": "AllowAccessTokensViaBrowser, Published",
            "SeedGrant": "authorization_code",
            "SeedScopes": "openid profile email identity-api",
            "SeedSecret": "f6cf36068e4a42b6abfc70d650959b5a",
            "URls": [
               { "Type": "ClientUri", "Value": "https://mattermost.crucible-dev.cmusei.dev" },
              {
                  "Type": "RedirectUri",
                  "Value": "https://mattermost.crucible-dev.cmusei.dev/signup/gitlab/complete"
              },
              {
                "Type": "CORSUri",
                "Value": "https://mattermost.crucible-dev.cmusei.dev"
              }
            ]
          }
        ],
        "ApiResources": [
          {
            "Name": "alloy-api",
            "DisplayName": "Alloy Api",
            "Enabled": true,
            "Default": true,
            "Scopes": []
          },
          {
            "Name": "caster-api",
            "DisplayName": "Caster Api",
            "Enabled": true,
            "Default": true,
            "Scopes": []
          },
          {
            "Name": "player-api",
            "DisplayName": "Player Api",
            "Enabled": true,
            "Default": true,
            "Scopes": []
          },
          {
            "Name": "steamfitter-api",
            "DisplayName": "Steamfitter Api",
            "Enabled": true,
            "Default": true,
            "Scopes": []
          },
          {
            "Name": "vm-api",
            "DisplayName": "VM Api",
            "Enabled": true,
            "Default": true,
            "Scopes": []
          },
          {
            "Name": "fite-api",
            "DisplayName": "FITE Api",
            "Enabled": true,
            "Default": true,
            "Scopes": []
          }
        ]
      }
    signer: MIIJkQIBAzCCCVcGCSqGSIb3DQEHAaCCCUgEgglEMIIJQDCCA/cGCSqGSIb3DQEHBqCCA+gwggPkAgEAMIID3QYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQIAZZoTWpKaJgCAggAgIIDsKqy3BnkD0+5Gn/Hz6rjqUH5HWCtPIPN59HY0CKlYpxUqniObCGmR8YZWCNTRfBTJv1abT3r8qepvnqL3MSh2VU+qoW3oIenGMaWC8tNeBE/D74D8nmnz7rN+VOWHdPEGuufaBBVFjNuZLtznx45KTgJm9H1X0WpgUy3TLpkc8YB44xyGcuvQYlUV2E7Oot7AC5ITFGJK14nxMP9ho4iH/6hHkRGFL6LfRQAGnYXDDauV1gCHsd0NxxxdRlExRaweqlIepxjkSn9zINdSW08yql7CtYCMjCoYA6Jd4+ur4oHHLliQTZHoo4UmaAPVJrgDGkNL4JfwD3WJjs7B8zG4nQbB4kC8k1Dx3u0zQhvd22a1pMj1vXdCYoxkSnTpRUubcfArY3xnsd5lS4nzNy6Ys7n9yiqs7VidXKzcRc6nUdKPKp4y9bxyEob/MTiJpglTZukG98Rf7yWeqY30H+uJmSgyOxiJY0JS1baqThaDJa7+gpM4rrmu2Gl74zktuFPGrTOWHmot/kc2VOJX8X+suBW8tj5CASESLVQkV6BxBwAvBZuzHa+IrhYm0bfC8gZB9Xaen/Qf11IWch+mzCIqrBOw7e+W7CIue4MCWTWIV7IKG2kHjkbXuj+HZW0Difl2hh16sTMeao4Gubpb+cWuyzfMa71VriX9FJP4Wnd7U/KrBQhWocI9kb1f9Jt9y+Q+cxavtuU+dhgaRz9/eeT2noCI7kYyUz8aih0FPbJgRQ271OUxHNICYg8pZqunQiMcfWYoWRvKJilszIXjsgY9+b8/p5TSRwD3dKQA+xC2HSGVT3EUiZAMWcjy35Nb0rqSHm9EDhrjxpKye9XBaL2u4y3tGxo4WjYYTH2fZvAk6IZj2kpwKN4hnPY5cZgM7WC2eRkT8pC8bpM8otUOseG6CZUTDZO5QJLB89KsDwwpB6i819YMe/zh85uvdWOvui0GFhy6/o054el6kPV5ZgIZ99+vvAmgLDDUChpFcicbxj4vHSZ5O9XIVEr1NRSYY7Ln1zH3mfZ5i56J2HYAgne7+sps1ULOXWb0pSptjLeC7QSFBgft3m657ifBMs8zi7hNRFtt89HZnaX6V3CuNTYZ3MoCoaB6rebXVui42Pqp+2ZTifXQj0WP/NCN1FBx4AFyuwg2YrKzw5ZVC1sLht4jNZ7L0GtOx6Rbmv2R0+D7EU8d0j1ZdCGR5m0DKwBbmDAxx6/skxi2nfc+q6p0zZOZVDz37Y6rm7zKi5bDfjSuOSBMIIFQQYJKoZIhvcNAQcBoIIFMgSCBS4wggUqMIIFJgYLKoZIhvcNAQwKAQKgggTuMIIE6jAcBgoqhkiG9w0BDAEDMA4ECN8JIZ0MquVwAgIIAASCBMiFui+zbvOczNo8ybZClThN2RYBKaX+j8tcKNyab52NPI/Ox4eZMM7SwNA8xjYNi1Cuhnb5I1l7l7UoiRJMgD18GuH/oNJl5Zs0p7jdG8yX5xffIeSDiCFQ2QbsK3pwwMLY7/2fdOVhgY3EdSw3pV7jNPHkfH6zY3L0O7FZv3uKi5xiccqYDzo5O8Svy3c5tBEXgvVuQ8nQtbBnu4eAuCuzoB49vLcllfppJ08YIOIc9EYnSomPtEyQ93ykw+Pxs5zj4iCgglUPesJvdttN74wKMmT0bUEkEWRSNLViGPPLa5cJ6RrddP7m5z/743/T82uhXAQ/vTvVYst/U1EV0/EkMpSyeo75UvVwmKPoqy9UWVDLRtEE6STEXw2IbyZUiDK3gGCbKLjM0Bf18biAi9V4ku+ruEbcJhZFSjh8Jxp5liYbzHN3d83fmhiSydO6TOz8iOHbJfKb2HtH7pVqTqWI4DxmAhnChGwMTbIkbx5lASXPfaXHnhN+hgUVbxVe4jsr+v0NWUKcGY7dCHUphepmtKjF6CXNOw4GiYHbeyWaL55Qlbd/7lf0PfsChXEXKqr6YqgVxLYQjzIOqLg+KKmQpOIJnQicMKl0nAgy7JuYJPdVQmbJyHoMcRBIqQ6cZ9tybcboEwBtGWPHDvO/3p+5plTiHb565Cs1VsH01Jwdo/ClF8mIR8POWYqX5RW7Fic+mtcjuo0V8AXws/srFpJK3phIxgV9bl3Z2uR8A6w4aMc1jXIYAdeUQ9HuxSAqc8l+i1VzMNQGgQa/3y1sSgjLA4KSV+/X/VuaIAijT+aaq56UnbfPffDID220fj2+LFeOdTOAdqoVX3E7iyG0UPOFCurM0rW8hlJQ6Afr8tyyXzYmu839k0cZk4EmcLCojc9kjjt8RFSE9JYYup9qDHyotHz08Z5FuKJ993dod2xDHRuhlsXLlPcx4x4TWvO/++I8gdzah3SXg3FK5toR4GWvXFOxXG9JeTVxX2fo/EefRDfDZ/XNofzEHKzn3bdZygUoAvr8X59u7113LatzcwtLa4XQ4rmWtY6qsZwW4ULzK+eejG+u3ExhGtKpE0fI6TKURnxkPHidAawSdjgDYgRb3cAz7ZSRLwMF1Bwg0BiN4Fng1MFq1SilyDqcvirHWMH/7CPoem1AsiRBlCRUImD+YzFy+mT5Ljnkz6o0lx7LCYFkh+AKkokFGy1BDANG97jpQ1HWyfQBVNJuHYt6q6sbpWKOyMQcpPykoZQ+8Vir8OlXNVTWNwuL+s+pANljVAJIqFhfMnOpddH7D+6Os856CEjNXj67V6DWtpoNZtWq9nrJOqdffKCoJSeYmFbeRxQk2JBKJxHLr+LuLq9vrFWIC6jNki6vTWAKkHvwU7QsQkML1xMGHulXZSSSLMqX3Iyodo0D5Jj5sKfZgJGMkG7IhbLiI+RcLjOGMIuSVmqxDz2jrUNtMyoTkbBE7cPSHN0u+O+hmjban8zWZzw0HJTdh0U7iF1qhPP+KizjDr84WurWpwDZdkqt38Jr9QgnYh6Jwi0PGbZrIEoWRSVgmSgnJYcGPDiC0IdiGC5RG++7jHzoHjrnlD/wtOP1vifLHgIMgiGhAGXAMHDqSPfr11jXOuF7Os4JLlAxJTAjBgkqhkiG9w0BCRUxFgQUEr3D24RFtvuLu+M8eGZBO7XMnR4wMTAhMAkGBSsOAwIaBQAEFCfVvT8LC01yDEWNIafPsvuiwNEqBAgB04Ch9CkUCQICCAA=

identity-ui:
  replicaCount: 1
  image:
    # repository: cmusei.azurecr.us/identity-ui
    # tag: "1.3.7"
    repository: cmusei/identity-ui
    tag: '1.3.7'

  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx

    hosts:
      - host: id.crucible-dev.cmusei.dev
        paths: ['/ui']
    tls:
      - secretName: crucible-dev-wildcard-cert
        hosts:
          - 'id.crucible-dev.cmusei.dev'

  resources:
    limits:
      cpu: 20m
      memory: 20Mi
    requests:
      cpu: 10m
      memory: 10Mi

  basehref: /ui

  settings: |
    {
      "apiUrl": "",
      "applicationName": "Identity"
    }
